<div class="container py-4">

  <!-- Header and Start Button -->
  <div class="row mb-4 justify-content-center text-center">
    <div class="col-md-6">
      <h1 class="mb-3" style="color:#474543">Djo Coffee</h1>
      <button (click)="start()" class="btn btn-warning">Start</button>
    </div>
  </div>

  <!-- Coffee Cards -->
  <div class="row g-4 justify-content-center">

      @for (drink of drinks; track drink) {
        <div class="col-12 col-sm-6 col-md-3 col-lg-2">
          <div class="card h-100 position-relative overflow-hidden">

            <div class="position-relative">
              <img [src]="drink.image" class="card-img-top img-fixed" [alt]="drink.name">
              <span class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center fw-bold text-white fs-1">
                {{drink.quantity}}
              </span>
            </div>
    
            <div class="card-body">
              <h5 class="card-title">{{ drink.name }}</h5>
              <div class="">
                <a (click)="consume(drink.drink_id, journal,'+', drink.quantity)" class="btn btn-primary w-50">+</a>
                <a (click)="consume(drink.drink_id, journal,'-', drink.quantity)" class="btn btn-danger w-50">-</a>
              </div>
            </div>
                       
        
          </div>
        </div>
      }

  </div>

  <div class="row g-4 d-flex justify-content-center text-center mt-3">

    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">American</th>
          <th scope="col">Cappuccino</th>
          <th scope="col">Expresso</th>
          <th scope="col">Creme</th>
          <th scope="col">pathe</th>
          <th scope="col">pain chocolat</th>
          <th scope="col">filtre</th>
          <th scope="col">thé</th>
          <th scope="col">soufflé</th>
          <th scope="col">pizza</th>
          <th scope="col">croissant</th>
          <th scope="col">eau 0.5L</th>
          <th scope="col">eau 1L</th>
          <th scope="col">coke</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of journals; let i = index">
          <th scope="row">{{ item.created_at | date: 'dd/MM/yy' }}</th>
          <td>{{ item.american || 0 }}</td>
          <td>{{ item.cappuccino || 0 }}</td>
          <td>{{ item.expresso || 0 }}</td>
          <td>{{ item.creme || 0 }}</td>
          <td>{{ item.pathe || 0 }}</td>
          <td>{{ item['pain chocolat'] || 0 }}</td>
          <td>{{ item.filtre || 0 }}</td>
          <td>{{ item['thé'] || 0 }}</td>
          <td>{{ item['soufflé'] || 0 }}</td>
          <td>{{ item.pizza || 0 }}</td>
          <td>{{ item.croissant || 0 }}</td>
          <td>{{ item['eau 0.5L'] || 0 }}</td>
          <td>{{ item['eau 1L'] || 0 }}</td>
          <td>{{ item.coke || 0 }}</td>
        </tr>
      </tbody>
    </table>
    

    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li 
          class="page-item" 
          [class.disabled]="currentPage === 1"
          (click)="goToPage(currentPage - 1)">
          <a class="page-link" href="#">Previous</a>
        </li>
    
        <li 
          class="page-item" 
          *ngFor="let page of [].constructor(totalPages); let i = index"
          [class.active]="currentPage === i + 1"
          (click)="goToPage(i + 1)">
          <a class="page-link" href="#">{{ i + 1 }}</a>
        </li>
    
        <li 
          class="page-item" 
          [class.disabled]="currentPage === totalPages"
          (click)="goToPage(currentPage + 1)">
          <a class="page-link" href="#">Next</a>
        </li>
      </ul>
    </nav>

  </div>

</div>